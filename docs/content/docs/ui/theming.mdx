---
title: Theming & Color Customization
description: Complete guide to customizing shadcn/ui colors and resolving theme conflicts in Fumadocs
---

import { Callout } from 'fumadocs-ui/components/callout'
import { Tab, Tabs } from 'fumadocs-ui/components/tabs'
import { CodeBlock } from 'fumadocs-ui/components/codeblock'

# Theming & Color Customization

Learn how to properly customize shadcn/ui colors and resolve theme conflicts when integrating with Fumadocs.

## Overview

When using shadcn/ui components within Fumadocs, you may encounter color conflicts where shadcn styles override Fumadocs theme colors. This guide provides comprehensive solutions for proper theme integration.

<Callout type="warn">
Always test your color customizations in both light and dark modes to ensure proper contrast and accessibility.
</Callout>

## Understanding the Color System

### Fumadocs Color Tokens

Fumadocs uses CSS custom properties for theming:

```css
:root {
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;
  --primary: 221.2 83.2% 53.3%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 96%;
  --secondary-foreground: 222.2 84% 4.9%;
  --muted: 210 40% 96%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --accent: 210 40% 96%;
  --accent-foreground: 222.2 84% 4.9%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --ring: 221.2 83.2% 53.3%;
  --radius: 0.5rem;
}
```

### shadcn/ui Color Tokens

shadcn/ui uses similar tokens but may have different default values:

```css
:root {
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --muted: 210 40% 96%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --primary: 222.2 47.4% 11.2%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 96%;
  --secondary-foreground: 222.2 84% 4.9%;
  --accent: 210 40% 96%;
  --accent-foreground: 222.2 84% 4.9%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 210 40% 98%;
  --ring: 222.2 84% 4.9%;
}
```

## Customization Methods

### Method 1: CSS Custom Properties Override

Create a custom CSS file to override specific color tokens:

<Tabs items={['globals.css', 'custom-theme.css']}>
<Tab value="globals.css">
```css
/* In your globals.css or main CSS file */
@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* Override shadcn colors to match Fumadocs */
:root {
  /* Use Fumadocs primary colors */
  --primary: 221.2 83.2% 53.3%;
  --primary-foreground: 210 40% 98%;
  
  /* Ensure proper text contrast */
  --card-foreground: 222.2 84% 4.9%;
  --popover-foreground: 222.2 84% 4.9%;
  
  /* Border consistency */
  --border: 214.3 31.8% 91.4%;
  
  /* Custom brand colors for special components */
  --brand: 221.2 83.2% 53.3%;
  --brand-foreground: 210 40% 98%;
}

.dark {
  --background: 222.2 84% 4.9%;
  --foreground: 210 40% 98%;
  --card: 222.2 84% 4.9%;
  --card-foreground: 210 40% 98%;
  --popover: 222.2 84% 4.9%;
  --popover-foreground: 210 40% 98%;
  --primary: 210 40% 98%;
  --primary-foreground: 222.2 84% 4.9%;
  --secondary: 217.2 32.6% 17.5%;
  --secondary-foreground: 210 40% 98%;
  --muted: 217.2 32.6% 17.5%;
  --muted-foreground: 215 20.2% 65.1%;
  --accent: 217.2 32.6% 17.5%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 210 40% 98%;
  --border: 217.2 32.6% 17.5%;
  --input: 217.2 32.6% 17.5%;
  --ring: 212.7 26.8% 83.9%;
  
  /* Custom brand colors for dark mode */
  --brand: 210 40% 98%;
  --brand-foreground: 222.2 84% 4.9%;
}
```
</Tab>
<Tab value="custom-theme.css">
```css
/* Separate theme file for better organization */
/* custom-theme.css */

/* Component-specific overrides */
.bento-card {
  /* Use design tokens instead of hardcoded colors */
  background: hsl(var(--card) / 0.5);
  border: 1px solid hsl(var(--border) / 0.4);
  color: hsl(var(--card-foreground));
}

.bento-card:hover {
  border-color: hsl(var(--border));
  background: hsl(var(--card) / 0.8);
}

/* Glassmorphism with theme awareness */
.glass-effect {
  background: linear-gradient(
    135deg,
    hsl(var(--background) / 0.8) 0%,
    hsl(var(--background) / 0.6) 50%,
    hsl(var(--background) / 0.4) 100%
  );
  backdrop-filter: blur(10px);
  border: 1px solid hsl(var(--border) / 0.5);
}

/* Text color inheritance fixes */
.theme-text {
  color: hsl(var(--foreground));
}

.theme-muted {
  color: hsl(var(--muted-foreground));
}

.theme-primary {
  color: hsl(var(--primary));
}
```
</Tab>
</Tabs>

### Method 2: Tailwind Configuration

Extend your Tailwind configuration to use consistent color tokens:

```js
// tailwind.config.js
module.exports = {
  content: [
    './src/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      colors: {
        // Map to CSS custom properties
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        primary: {
          DEFAULT: 'hsl(var(--primary))',
          foreground: 'hsl(var(--primary-foreground))',
        },
        secondary: {
          DEFAULT: 'hsl(var(--secondary))',
          foreground: 'hsl(var(--secondary-foreground))',
        },
        destructive: {
          DEFAULT: 'hsl(var(--destructive))',
          foreground: 'hsl(var(--destructive-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
        },
        popover: {
          DEFAULT: 'hsl(var(--popover))',
          foreground: 'hsl(var(--popover-foreground))',
        },
        card: {
          DEFAULT: 'hsl(var(--card))',
          foreground: 'hsl(var(--card-foreground))',
        },
        // Custom brand colors
        brand: {
          DEFAULT: 'hsl(var(--brand))',
          foreground: 'hsl(var(--brand-foreground))',
        },
      },
    },
  },
  plugins: [],
}
```

### Method 3: Component-Level Styling

For specific components, use CSS-in-JS or styled-components:

```tsx
// Component with theme-aware styling
import { cn } from '@/lib/utils'

interface BentoCardProps {
  className?: string
  children: React.ReactNode
  size?: 'small' | 'medium' | 'large'
}

export function BentoCard({ className, children, size = 'medium', ...props }: BentoCardProps) {
  return (
    <div
      className={cn(
        // Base styles using design tokens
        'relative overflow-hidden rounded-lg',
        'bg-card/50 backdrop-blur-sm',
        'border border-border/40',
        'text-card-foreground',
        'transition-all duration-300',
        'hover:border-border hover:bg-card/80',
        'hover:shadow-lg hover:scale-[1.02]',
        // Size variants
        {
          'p-4 min-h-[120px]': size === 'small',
          'p-6 min-h-[160px]': size === 'medium',
          'p-8 min-h-[200px] row-span-2': size === 'large',
        },
        className
      )}
      {...props}
    >
      {children}
    </div>
  )
}
```

## Theme-Aware Component Examples

### Glassmorphism Card

```tsx
export function GlassmorphismCard({ children, className, ...props }) {
  return (
    <div
      className={cn(
        // Glassmorphism base
        'relative overflow-hidden rounded-xl',
        'backdrop-blur-md border',
        // Theme-aware background
        'bg-gradient-to-br from-background/80 via-background/60 to-background/40',
        'border-border/50',
        // Theme-aware text
        'text-foreground',
        // Hover effects
        'hover:border-border transition-all duration-300',
        'hover:bg-gradient-to-br hover:from-background/90 hover:via-background/70 hover:to-background/50',
        className
      )}
      {...props}
    >
      {children}
    </div>
  )
}
```

### Feature Card with Gradient

```tsx
export function FeatureCard({ icon, title, description, gradient }) {
  return (
    <div className="relative group">
      {/* Gradient background */}
      <div 
        className={cn(
          'absolute inset-0 rounded-lg opacity-20 group-hover:opacity-30 transition-opacity',
          gradient || 'bg-gradient-to-br from-primary/20 to-secondary/20'
        )}
      />
      
      {/* Content */}
      <div className="relative p-6 bg-card/50 backdrop-blur-sm border border-border/40 rounded-lg">
        <div className="flex items-center gap-3 mb-3">
          <div className="p-2 rounded-md bg-primary/10 text-primary">
            {icon}
          </div>
          <h3 className="font-semibold text-card-foreground">{title}</h3>
        </div>
        <p className="text-muted-foreground text-sm">{description}</p>
      </div>
    </div>
  )
}
```

## Troubleshooting Common Issues

### Issue 1: Text Not Visible

**Problem**: Text appears invisible or has poor contrast.

**Solution**: Use proper foreground color tokens:

```css
/* Instead of */
.my-component {
  color: white; /* Hard-coded color */
}

/* Use */
.my-component {
  color: hsl(var(--foreground)); /* Theme-aware */
}
```

### Issue 2: Borders Not Visible

**Problem**: Borders are too faint or invisible.

**Solution**: Adjust border opacity and use proper tokens:

```css
/* Instead of */
.my-component {
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Use */
.my-component {
  border: 1px solid hsl(var(--border) / 0.4);
}

.my-component:hover {
  border-color: hsl(var(--border));
}
```

### Issue 3: Background Conflicts

**Problem**: Component backgrounds clash with page background.

**Solution**: Use layered transparency:

```css
.my-component {
  background: linear-gradient(
    135deg,
    hsl(var(--card) / 0.8) 0%,
    hsl(var(--card) / 0.6) 50%,
    hsl(var(--card) / 0.4) 100%
  );
}
```

### Issue 4: Dark Mode Issues

**Problem**: Colors don't adapt properly in dark mode.

**Solution**: Define both light and dark variants:

```css
:root {
  --my-custom-color: 221.2 83.2% 53.3%;
}

.dark {
  --my-custom-color: 210 40% 98%;
}

.my-component {
  color: hsl(var(--my-custom-color));
}
```

## Best Practices

### 1. Always Use Design Tokens

```tsx
// ✅ Good - Uses design tokens
<div className="bg-card text-card-foreground border-border">

// ❌ Bad - Hard-coded colors
<div className="bg-white text-black border-gray-200">
```

### 2. Test in Both Themes

Always test your components in both light and dark modes:

```tsx
// Add theme toggle for testing
import { useTheme } from 'next-themes'

export function ThemeToggle() {
  const { theme, setTheme } = useTheme()
  
  return (
    <button
      onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')}
      className="p-2 rounded-md bg-primary text-primary-foreground"
    >
      Toggle Theme
    </button>
  )
}
```

### 3. Use Semantic Color Names

```css
/* ✅ Good - Semantic naming */
:root {
  --success: 142.1 76.2% 36.3%;
  --warning: 47.9 95.8% 53.1%;
  --info: 221.2 83.2% 53.3%;
}

/* ❌ Bad - Generic naming */
:root {
  --green: 142.1 76.2% 36.3%;
  --yellow: 47.9 95.8% 53.1%;
  --blue: 221.2 83.2% 53.3%;
}
```

### 4. Maintain Contrast Ratios

Ensure proper contrast for accessibility:

```css
/* Check contrast ratios */
.text-primary {
  color: hsl(var(--primary));
  /* Ensure 4.5:1 contrast ratio for normal text */
}

.text-large {
  color: hsl(var(--primary));
  /* 3:1 contrast ratio acceptable for large text (18px+) */
}
```

## Integration with Fumadocs

### Custom Theme Provider

```tsx
// theme-provider.tsx
'use client'

import { ThemeProvider as NextThemesProvider } from 'next-themes'
import { type ThemeProviderProps } from 'next-themes/dist/types'

export function ThemeProvider({ children, ...props }: ThemeProviderProps) {
  return (
    <NextThemesProvider
      attribute="class"
      defaultTheme="system"
      enableSystem
      disableTransitionOnChange
      {...props}
    >
      {children}
    </NextThemesProvider>
  )
}
```

### Layout Integration

```tsx
// layout.tsx
import { ThemeProvider } from '@/components/theme-provider'
import './globals.css'
import './custom-theme.css'

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en" suppressHydrationWarning>
      <body>
        <ThemeProvider>
          {children}
        </ThemeProvider>
      </body>
    </html>
  )
}
```

<Callout type="info">
Remember to import your custom theme CSS after the base styles to ensure proper override precedence.
</Callout>

## Conclusion

Proper theme integration requires:

1. **Using design tokens** instead of hard-coded colors
2. **Testing in both light and dark modes**
3. **Maintaining proper contrast ratios**
4. **Following semantic naming conventions**
5. **Organizing styles with proper cascade order**

By following these guidelines, you can create beautiful, accessible components that integrate seamlessly with Fumadocs theming system.