plugin_id: webhook
version: 1.0.0
description: Webhook management
base_path: /api/auth

types:
  - name: Webhook
    description: Webhook configuration
    fields:
      id: string!
      organizationId: string!
      url: string!
      events: string[]!
      secret: string!
      enabled: boolean!
      createdAt: string!

routes:
  - name: Create
    description: Create a webhook
    method: POST
    path: /webhooks
    auth: true
    request:
      url: string!
      events: string[]!
      secret: string
    response:
      webhook: Webhook!
    errors:
      - code: 400
        description: Invalid request data
      - code: 401
        description: Not authenticated

  - name: List
    description: List webhooks
    method: GET
    path: /webhooks
    auth: true
    response:
      webhooks: Webhook[]!
    errors:
      - code: 401
        description: Not authenticated

  - name: Update
    description: Update a webhook
    method: POST
    path: /webhooks/update
    auth: true
    request:
      id: string!
      url: string
      events: string[]
      enabled: boolean
    response:
      webhook: Webhook!
    errors:
      - code: 400
        description: Invalid request data
      - code: 401
        description: Not authenticated
      - code: 404
        description: Webhook not found

  - name: Delete
    description: Delete a webhook
    method: POST
    path: /webhooks/delete
    auth: true
    request:
      id: string!
    response:
      success: boolean!
    errors:
      - code: 401
        description: Not authenticated
      - code: 404
        description: Webhook not found

