plugin_id: anonymous
version: 1.0.0
routes:
    - name: SignIn
      description: SignIn creates a guest user and session
      method: POST
      path: /anonymous/signin
      response:
        session: '!'
        token: string!
        user: '!'
      request_type: SignInRequest
      response_type: SignInResponse
    - name: Link
      description: Link upgrades an anonymous session to a real account
      method: POST
      path: /anonymous/link
      request:
        email: string!
        name: string!
        password: string!
      response:
        message: string!
        user: '!'
      request_type: LinkRequest
      response_type: LinkResponse
types:
    - name: Config
      fields:
        autoConvert: bool!
        cleanupIntervalHours: int!
        enableAnonymous: bool!
        sessionExpiryHours: int!
    - name: Service
      fields:
        "": Config
    - name: Handler
      fields:
        "": core.Authsome
    - name: SignInRequest
      fields: {}
    - name: LinkRequest
      fields:
        email: string!
        name: string!
        password: string!
    - name: SignInResponse
      fields:
        session: '!'
        token: string!
        user: '!'
    - name: LinkResponse
      fields:
        message: string!
        user: '!'
    - name: Plugin
      fields:
        "": forge.Logger
