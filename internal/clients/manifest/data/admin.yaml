plugin_id: admin
version: 1.0.0
routes:
    - name: CreateUser
      description: CreateUser handles POST /admin/users
      method: POST
      path: /admin/users
    - name: ListUsers
      description: ListUsers handles GET /admin/users
      method: GET
      path: /admin/users
    - name: DeleteUser
      description: DeleteUser handles DELETE /admin/users/:id
      method: DELETE
      path: /admin/users/:id
      response_type: MessageResponse
    - name: BanUser
      description: BanUser handles POST /admin/users/:id/ban
      method: POST
      path: /admin/users/:id/ban
      response_type: MessageResponse
    - name: UnbanUser
      description: UnbanUser handles POST /admin/users/:id/unban
      method: POST
      path: /admin/users/:id/unban
      response_type: MessageResponse
    - name: ImpersonateUser
      description: ImpersonateUser handles POST /admin/users/:id/impersonate
      method: POST
      path: /admin/users/:id/impersonate
    - name: SetUserRole
      description: SetUserRole handles POST /admin/users/:id/role
      method: POST
      path: /admin/users/:id/role
      response_type: MessageResponse
    - name: ListSessions
      description: ListSessions handles GET /admin/sessions
      method: GET
      path: /admin/sessions
    - name: RevokeSession
      description: RevokeSession handles DELETE /admin/sessions/:id
      method: DELETE
      path: /admin/sessions/:id
      response_type: MessageResponse
    - name: GetStats
      description: GetStats handles GET /admin/stats
      method: GET
      path: /admin/stats
    - name: GetAuditLogs
      description: GetAuditLogs handles GET /admin/audit
      method: GET
      path: /admin/audit-logs
types:
    - name: ListSessionsResponse
      fields:
        limit: int!
        page: int!
        sessions: '[]*session.Session!'
        total: int!
        total_pages: int!
    - name: Handler
      fields:
        "": '*Service'
    - name: BanUserRequestDTO
      fields:
        "": string
        expires_at: '*time.Time!'
        reason: string!
    - name: UnbanUserRequestDTO
      fields:
        "": string
        reason: string!
    - name: SetUserRoleRequestDTO
      fields:
        "": string
        role: string!
    - name: RevokeSessionRequestDTO
      fields:
        "": string
    - name: GetStatsRequestDTO
      fields:
        "": string
    - name: ListUsersRequest
      fields:
        '-': xid.ID!
        app_id: xid.ID!
        limit: int!
        page: int!
        role: string!
        search: string!
        status: string!
        user_organization_id: '*xid.ID!'
    - name: BanUserRequest
      fields:
        '-': xid.ID!
        app_id: xid.ID!
        expires_at: '*time.Time!'
        reason: string!
        user_id: xid.ID!
        user_organization_id: '*xid.ID!'
    - name: CreateUserRequestDTO
      fields:
        email: string!
        email_verified: bool!
        metadata: '!'
        name: string!
        password: string!
        role: string!
        username: string!
    - name: ListUsersRequestDTO
      fields:
        "": string
    - name: GetAuditLogsRequestDTO
      fields:
        "": int
    - name: Config
      fields:
        allow_impersonation: bool!
        allow_user_creation: bool!
        allow_user_deletion: bool!
        max_impersonation_duration: time.Duration!
        required_role: string!
    - name: UnbanUserRequest
      fields:
        '-': xid.ID!
        app_id: xid.ID!
        reason: string!
        user_id: xid.ID!
        user_organization_id: '*xid.ID!'
    - name: ListSessionsRequest
      fields:
        '-': xid.ID!
        app_id: xid.ID!
        limit: int!
        page: int!
        user_id: '*xid.ID!'
        user_organization_id: '*xid.ID!'
    - name: StatsResponse
      fields:
        active_sessions: int!
        active_users: int!
        banned_users: int!
        timestamp: string!
        total_sessions: int!
        total_users: int!
    - name: DeleteUserRequestDTO
      fields:
        "": string
    - name: ImpersonateUserRequestDTO
      fields:
        "": string
        duration: time.Duration!
    - name: ImpersonateUserRequest
      fields:
        '-': xid.ID!
        app_id: xid.ID!
        duration: time.Duration!
        user_id: xid.ID!
        user_organization_id: '*xid.ID!'
    - name: SetUserRoleRequest
      fields:
        '-': xid.ID!
        app_id: xid.ID!
        role: string!
        user_id: xid.ID!
        user_organization_id: '*xid.ID!'
    - name: ListSessionsRequestDTO
      fields:
        "": string
    - name: Plugin
      fields:
        "": '*Handler'
    - name: Service
      fields:
        "": Config
    - name: CreateUserRequest
      fields:
        '-': xid.ID!
        app_id: xid.ID!
        email: string!
        email_verified: bool!
        metadata: '!'
        name: string!
        password: string!
        role: string!
        user_organization_id: '*xid.ID!'
        username: string!
    - name: ListUsersResponse
      fields:
        limit: int!
        page: int!
        total: int!
        total_pages: int!
        users: '[]*user.User!'
