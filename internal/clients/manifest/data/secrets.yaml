plugin_id: secrets
version: 1.0.0
base_path: /secrets
routes:
    - name: List
      description: List handles GET /secrets
      method: GET
      path: /list
      request:
        "": int
      request_type: ListSecretsRequest
      response_type: ListSecretsResponse
    - name: Create
      description: Create handles POST /secrets
      method: POST
      path: /create
      request:
        description: string!
        metadata: '!'
        path: string!
        tags: '[]string!'
        value: '!'
        valueType: string!
      request_type: CreateSecretRequest
      response_type: SecretDTO
    - name: Get
      description: Get handles GET /secrets/:id
      method: GET
      path: /:id
      request:
        "": string
      request_type: GetSecretRequest
      response_type: SecretDTO
    - name: GetValue
      description: GetValue handles GET /secrets/:id/value
      method: GET
      path: /:id/value
      request:
        "": string
      request_type: GetValueRequest
      response_type: RevealValueResponse
    - name: Update
      description: Update handles PUT /secrets/:id
      method: PUT
      path: /:id
      request:
        "": string
        description: string!
        metadata: '!'
        tags: '[]string!'
        value: '!'
      request_type: UpdateSecretRequest
      response_type: SecretDTO
    - name: Delete
      description: Delete handles DELETE /secrets/:id
      method: DELETE
      path: /:id
      request:
        "": string
      response:
        data: '!'
        message: string!
        success: bool!
      request_type: DeleteSecretRequest
      response_type: SuccessResponse
    - name: GetByPath
      description: GetByPath handles GET /secrets/path/*path
      method: GET
      path: /path/*path
      response:
        code: string!
        error: string!
        message: string!
      response_type: ErrorResponse
    - name: GetVersions
      description: GetVersions handles GET /secrets/:id/versions
      method: GET
      path: /:id/versions
      request:
        "": int
      request_type: GetVersionsRequest
      response_type: ListVersionsResponse
    - name: Rollback
      description: Rollback handles POST /secrets/:id/rollback/:version
      method: POST
      path: /:id/rollback/:version
      request:
        "": string
        reason: string!
      request_type: RollbackRequest
      response_type: SecretDTO
    - name: GetStats
      description: GetStats handles GET /secrets/stats
      method: GET
      path: /stats
      response_type: StatsDTO
    - name: GetTree
      description: GetTree handles GET /secrets/tree
      method: GET
      path: /tree
      request:
        "": string
      request_type: GetTreeRequest
      response_type: SecretTreeNode
types:
    - name: Config
      fields:
        access: AccessConfig!
        audit: AuditConfig!
        configSource: ConfigSourceConfig!
        dashboard: DashboardConfig!
        encryption: EncryptionConfig!
        versioning: VersioningConfig!
    - name: Handler
      fields:
        "": forge.Logger
    - name: GetByPathRequest
      fields:
        "": string
    - name: ErrorResponse
      fields:
        code: string!
        error: string!
        message: string!
    - name: SuccessResponse
      fields:
        data: '!'
        message: string!
        success: bool!
    - name: bunRepository
      fields:
        "": '*bun.DB'
    - name: Service
      fields:
        "": Repository
    - name: EncryptionConfig
      fields:
        masterKey: string!
        rotateKeyAfter: time.Duration!
        testOnStartup: bool!
    - name: ConfigSourceConfig
      fields:
        autoRefresh: bool!
        enabled: bool!
        prefix: string!
        priority: int!
        refreshInterval: time.Duration!
    - name: VersioningConfig
      fields:
        autoCleanup: bool!
        cleanupInterval: time.Duration!
        maxVersions: int!
        retentionDays: int!
    - name: DashboardConfig
      fields:
        enableExport: bool!
        enableImport: bool!
        enableReveal: bool!
        enableTreeView: bool!
        revealTimeout: time.Duration!
    - name: DashboardExtension
      fields:
        "": '*dashboard.ExtensionRegistry'
    - name: DeleteSecretRequest
      fields:
        "": string
    - name: GetValueRequest
      fields:
        "": string
    - name: GetVersionsRequest
      fields:
        "": int
    - name: AuditConfig
      fields:
        autoCleanup: bool!
        enableAccessLog: bool!
        logReads: bool!
        logWrites: bool!
        retentionDays: int!
    - name: SecretsConfigSource
      fields:
        "": context.CancelFunc
    - name: navItem
      fields:
        "": string
    - name: EncryptionService
      fields:
        "": ""
    - name: CreateSecretRequest
      fields:
        description: string!
        metadata: '!'
        path: string!
        tags: '[]string!'
        value: '!'
        valueType: string!
    - name: GetSecretRequest
      fields:
        "": string
    - name: RollbackRequest
      fields:
        "": string
        reason: string!
    - name: GetTreeRequest
      fields:
        "": string
    - name: AccessConfig
      fields:
        allowApiAccess: bool!
        allowDashboardAccess: bool!
        rateLimitPerMinute: int!
        requireAuthentication: bool!
        requireRbac: bool!
    - name: ListSecretsRequest
      fields:
        "": '[]string'
    - name: UpdateSecretRequest
      fields:
        "": string
        description: string!
        metadata: '!'
        tags: '[]string!'
        value: '!'
    - name: Plugin
      fields:
        "": ""
    - name: SchemaValidator
      fields: {}
