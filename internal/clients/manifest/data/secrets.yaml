plugin_id: secrets
version: 1.0.0
routes:
    - name: List
      description: List handles GET /secrets
      method: GET
      path: /list
      response_type: core.ListSecretsResponse
    - name: Create
      description: Create handles POST /secrets
      method: POST
      path: /create
      response:
        code: string!
        error: string!
        message: string!
      request_type: core.CreateSecretRequest
      response_type: ErrorResponse
    - name: Get
      description: Get handles GET /secrets/:id
      method: GET
      path: /:id
      response:
        code: string!
        error: string!
        message: string!
      response_type: ErrorResponse
    - name: GetValue
      description: GetValue handles GET /secrets/:id/value
      method: GET
      path: /:id/value
      response_type: core.RevealValueResponse
    - name: Update
      description: Update handles PUT /secrets/:id
      method: PUT
      path: /:id
      response:
        code: string!
        error: string!
        message: string!
      request_type: core.UpdateSecretRequest
      response_type: ErrorResponse
    - name: Delete
      description: Delete handles DELETE /secrets/:id
      method: DELETE
      path: /:id
      response:
        data: '!'
        message: string!
        success: bool!
      response_type: SuccessResponse
    - name: GetByPath
      description: GetByPath handles GET /secrets/path/*path
      method: GET
      path: /path/*path
      response:
        code: string!
        error: string!
        message: string!
      response_type: ErrorResponse
    - name: GetVersions
      description: GetVersions handles GET /secrets/:id/versions
      method: GET
      path: /:id/versions
      response_type: core.ListVersionsResponse
    - name: Rollback
      description: Rollback handles POST /secrets/:id/rollback/:version
      method: POST
      path: /:id/rollback/:version
      request:
        reason: string!
      response:
        code: string!
        error: string!
        message: string!
      request_type: Rollback_req
      response_type: ErrorResponse
    - name: GetStats
      description: GetStats handles GET /secrets/stats
      method: GET
      path: /stats
    - name: GetTree
      description: GetTree handles GET /secrets/tree
      method: GET
      path: /tree
types:
    - name: SecretsConfigSource
      fields:
        "": ""
    - name: Rollback_req
      fields:
        reason: string!
    - name: bunRepository
      fields:
        "": '*bun.DB'
    - name: DashboardExtension
      fields:
        "": '*Plugin'
    - name: EncryptionService
      fields:
        "": ""
    - name: SuccessResponse
      fields:
        data: '!'
        message: string!
        success: bool!
    - name: Service
      fields:
        "": '*EncryptionService'
    - name: Config
      fields:
        access: AccessConfig!
        audit: AuditConfig!
        configSource: ConfigSourceConfig!
        dashboard: DashboardConfig!
        encryption: EncryptionConfig!
        versioning: VersioningConfig!
    - name: ConfigSourceConfig
      fields:
        autoRefresh: bool!
        enabled: bool!
        prefix: string!
        priority: int!
        refreshInterval: time.Duration!
    - name: AuditConfig
      fields:
        autoCleanup: bool!
        enableAccessLog: bool!
        logReads: bool!
        logWrites: bool!
        retentionDays: int!
    - name: navItem
      fields:
        "": string
    - name: Handler
      fields:
        "": forge.Logger
    - name: ErrorResponse
      fields:
        code: string!
        error: string!
        message: string!
    - name: Plugin
      fields:
        "": '*DashboardExtension'
    - name: SchemaValidator
      fields: {}
    - name: EncryptionConfig
      fields:
        masterKey: string!
        rotateKeyAfter: time.Duration!
        testOnStartup: bool!
    - name: AccessConfig
      fields:
        allowApiAccess: bool!
        allowDashboardAccess: bool!
        rateLimitPerMinute: int!
        requireAuthentication: bool!
        requireRbac: bool!
    - name: VersioningConfig
      fields:
        autoCleanup: bool!
        cleanupInterval: time.Duration!
        maxVersions: int!
        retentionDays: int!
    - name: DashboardConfig
      fields:
        enableExport: bool!
        enableImport: bool!
        enableReveal: bool!
        enableTreeView: bool!
        revealTimeout: time.Duration!
