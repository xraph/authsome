plugin_id: emailotp
version: 1.0.0
routes:
    - name: Send
      description: Send handles sending of OTP to email
      method: POST
      path: /email-otp/send
      request:
        email: string!
      request_type: SendRequest
    - name: Verify
      description: Verify checks the OTP and creates a session on success
      method: POST
      path: /email-otp/verify
      request:
        email: string!
        otp: string!
        remember: bool!
      request_type: VerifyRequest
      response_type: VerifyResponse
types:
    - name: SendRequest
      fields:
        email: string!
    - name: VerifyRequest
      fields:
        email: string!
        otp: string!
        remember: bool!
    - name: SendResponse
      fields:
        dev_otp: string!
        status: string!
    - name: Plugin
      fields:
        "": Config
    - name: Config
      fields:
        allowImplicitSignup: bool!
        devExposeOTP: bool!
        expiryMinutes: int!
        maxAttempts: int!
        otpLength: int!
        rateLimitPerHour: int!
    - name: Service
      fields:
        "": session.ServiceInterface
    - name: Handler
      fields:
        "": '*rl.Service'
