plugin_id: passkey
version: 1.0.0
routes:
    - name: BeginRegister
      method: POST
      path: /register/begin
      request:
        user_id: string!
      request_type: BeginRegister_body
    - name: FinishRegister
      method: POST
      path: /register/finish
      request:
        credential_id: string!
        user_id: string!
      response:
        status: string!
      request_type: FinishRegister_body
      response_type: StatusResponse
    - name: BeginLogin
      method: POST
      path: /login/begin
      request:
        user_id: string!
      request_type: BeginLogin_body
    - name: FinishLogin
      method: POST
      path: /login/finish
      request:
        remember: bool!
        user_id: string!
      response:
        session: '!'
        token: string!
        user: '!'
      request_type: FinishLogin_body
      response_type: AuthResponse
    - name: List
      method: GET
      path: /list
    - name: Delete
      method: DELETE
      path: /:id
      response:
        status: string!
      response_type: StatusResponse
types:
    - name: PasskeyListResponse
      fields:
        passkeys: '[]!'
    - name: BeginRegister_body
      fields:
        user_id: string!
    - name: FinishRegister_body
      fields:
        credential_id: string!
        user_id: string!
    - name: Config
      fields:
        "": string
    - name: Service
      fields:
        "": '*user.Service'
    - name: FinishLogin_body
      fields:
        remember: bool!
        user_id: string!
    - name: PasskeyStatusResponse
      fields:
        status: string!
    - name: PasskeyRegistrationOptionsResponse
      fields:
        options: '!'
    - name: ErrorResponse
      fields:
        error: string!
    - name: MessageResponse
      fields:
        message: string!
    - name: StatusResponse
      fields:
        status: string!
    - name: SuccessResponse
      fields:
        success: bool!
    - name: AuthResponse
      fields:
        session: '!'
        token: string!
        user: '!'
    - name: BeginLogin_body
      fields:
        user_id: string!
    - name: PasskeyErrorResponse
      fields:
        error: string!
    - name: PasskeyLoginOptionsResponse
      fields:
        options: '!'
    - name: Handler
      fields:
        "": '*Service'
    - name: Plugin
      fields:
        "": Config
    - name: PasskeyLoginResponse
      fields:
        session: '!'
        token: string!
        user: '!'
